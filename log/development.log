Connecting to database specified by database.yml


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 18:28:59 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  Rendered scenes/edit.html.erb within layouts/application (105.1ms)
Completed 200 OK in 264ms (Views: 116.1ms | ActiveRecord: 4.4ms)


Started POST "/projects/6/scenes/10/update_event" for 127.0.0.1 at 2013-05-18 18:29:15 -0400
Processing by ScenesController#update_event as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IxgJI3mnN03R0RyoR9xiC/FAH8eAkfG4Ue6ixVX56Gg=", "event"=>{"type"=>"CharacterPoseEvent", "filename"=>"grinning_1.gif"}, "event_id"=>"", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mSQL (75.6ms)[0m  [1mINSERT INTO "events" ("character_id", "character_type", "created_at", "filename", "order_index", "scene_id", "subfilename", "type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["character_id", nil], ["character_type", nil], ["created_at", Sat, 18 May 2013 22:29:15 UTC +00:00], ["filename", "grinning_1.gif"], ["order_index", 4], ["scene_id", 10], ["subfilename", nil], ["type", "CharacterPoseEvent"], ["updated_at", Sat, 18 May 2013 22:29:15 UTC +00:00]]
  [1m[35m (5.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  Rendered scenes/edit.html.erb within layouts/application (23.2ms)
Completed 500 Internal Server Error in 120ms

ActionView::Template::Error (undefined method `name' for nil:NilClass):
    11: 			  	 	<%Event.for_scene(@scene).ordered.each do |event|%>
    12: 			  	 	  <tr data-id="<%=event.id%>" id="row<%=event.id%>" class="<%="selected" if @event_index==event.order_index%>">
    13: 			  	 	  	<td>
    14: 			  	 	  		<%=event.to_sentence%>
    15: 			  	 	  		<div class="more"><hr>
    16: 			  	 	  		  <%if event.is_a?(BackgroundImageEvent)%>
    17: 			  	 	  		    <a class="btn btn-small edit-bg-image" href="#"><i class="icon-pencil"></i> Change Image</a><br/>
  app/models/events/character_pose_event.rb:14:in `to_sentence'
  app/views/scenes/edit.html.erb:14:in `block in _app_views_scenes_edit_html_erb__96029362695483580_2167701380'
  app/views/scenes/edit.html.erb:11:in `_app_views_scenes_edit_html_erb__96029362695483580_2167701380'
  app/controllers/scenes_controller.rb:78:in `block (2 levels) in update_event'
  app/controllers/scenes_controller.rb:75:in `update_event'


  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_trace.erb (35.7ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (42.9ms)
Connecting to database specified by database.yml


Started GET "/projects/6/scenes/10" for 127.0.0.1 at 2013-05-18 18:30:51 -0400
Processing by ScenesController#show as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  Rendered scenes/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.3ms)


Started GET "/projects/6" for 127.0.0.1 at 2013-05-18 18:30:54 -0400
Processing by ProjectsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1[0m  [["id", "6"]]
  Rendered projects/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.2ms)


Started GET "/projects/6/scenes" for 127.0.0.1 at 2013-05-18 18:30:56 -0400
Processing by ScenesController#index as HTML
  Parameters: {"project_id"=>"6"}
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  Rendered scenes/index.html.erb within layouts/application (80.2ms)
Completed 200 OK in 86ms (Views: 83.5ms | ActiveRecord: 0.6ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 18:30:57 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.2ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  Rendered scenes/edit.html.erb within layouts/application (23.2ms)
Completed 200 OK in 30ms (Views: 25.7ms | ActiveRecord: 1.3ms)


Started POST "/projects/6/scenes/10/update_event" for 127.0.0.1 at 2013-05-18 18:31:02 -0400
Processing by ScenesController#update_event as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IxgJI3mnN03R0RyoR9xiC/FAH8eAkfG4Ue6ixVX56Gg=", "event"=>{"type"=>"CharacterPoseEvent", "filename"=>"grinning_1.gif", "character_id"=>"2"}, "event_id"=>"", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Completed 500 Internal Server Error in 5ms

ActiveModel::MassAssignmentSecurity::Error (Can't mass-assign protected attributes: character_id):
  app/controllers/scenes_controller.rb:76:in `block in update_event'
  app/controllers/scenes_controller.rb:75:in `update_event'


  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (42.2ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (53.0ms)


Started POST "/projects/6/scenes/10/update_event" for 127.0.0.1 at 2013-05-18 18:31:26 -0400
Processing by ScenesController#update_event as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IxgJI3mnN03R0RyoR9xiC/FAH8eAkfG4Ue6ixVX56Gg=", "event"=>{"type"=>"CharacterPoseEvent", "filename"=>"grinning_1.gif", "character_id"=>"2"}, "event_id"=>"", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "events" ("character_id", "character_type", "created_at", "filename", "order_index", "scene_id", "subfilename", "type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["character_id", 2], ["character_type", "Hitomi"], ["created_at", Sat, 18 May 2013 22:31:27 UTC +00:00], ["filename", "grinning_1.gif"], ["order_index", 4], ["scene_id", 10], ["subfilename", nil], ["type", "CharacterPoseEvent"], ["updated_at", Sat, 18 May 2013 22:31:27 UTC +00:00]]
  [1m[35m (43.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.2ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  Rendered scenes/edit.html.erb within layouts/application (54.7ms)
Completed 200 OK in 196ms (Views: 58.4ms | ActiveRecord: 47.3ms)


Started GET "/projects/6/scenes" for 127.0.0.1 at 2013-05-18 18:33:45 -0400
Processing by ScenesController#index as HTML
  Parameters: {"project_id"=>"6"}
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  Rendered scenes/index.html.erb within layouts/application (39.6ms)
Completed 200 OK in 56ms (Views: 42.4ms | ActiveRecord: 1.5ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 18:33:47 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  Rendered scenes/edit.html.erb within layouts/application (97.0ms)
Completed 200 OK in 104ms (Views: 98.3ms | ActiveRecord: 2.3ms)


Started GET "/events/8/delete" for 127.0.0.1 at 2013-05-18 18:33:57 -0400
Processing by EventsController#delete as HTML
  Parameters: {"id"=>"8"}
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1  [["id", "8"]]
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "events" WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = ?  [["id", 8]]
  [1m[36m (41.5ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/projects/6/scenes/10/edit
Completed 302 Found in 49ms (ActiveRecord: 42.6ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 18:33:57 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  Rendered scenes/edit.html.erb within layouts/application (18.6ms)
Completed 200 OK in 25ms (Views: 21.0ms | ActiveRecord: 1.1ms)


Started POST "/projects/6/scenes/10/update_event" for 127.0.0.1 at 2013-05-18 18:34:06 -0400
Processing by ScenesController#update_event as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IxgJI3mnN03R0RyoR9xiC/FAH8eAkfG4Ue6ixVX56Gg=", "event"=>{"type"=>"CharacterPoseEvent", "filename"=>"grinning_1.gif", "character_id"=>"2"}, "event_id"=>"", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "events" ("character_id", "character_type", "created_at", "filename", "order_index", "scene_id", "subfilename", "type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["character_id", 2], ["character_type", "Hitomi"], ["created_at", Sat, 18 May 2013 22:34:06 UTC +00:00], ["filename", "grinning_1.gif"], ["order_index", 4], ["scene_id", 10], ["subfilename", nil], ["type", "CharacterPoseEvent"], ["updated_at", Sat, 18 May 2013 22:34:06 UTC +00:00]]
  [1m[35m (40.1ms)[0m  commit transaction
Redirected to http://localhost:3000/projects/6/scenes/10/edit?notice=Scene+was+successfully+updated.
Completed 302 Found in 54ms (ActiveRecord: 41.3ms)


Started GET "/projects/6/scenes/10/edit?notice=Scene+was+successfully+updated." for 127.0.0.1 at 2013-05-18 18:34:06 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"notice"=>"Scene was successfully updated.", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  Rendered scenes/edit.html.erb within layouts/application (22.9ms)
Completed 200 OK in 29ms (Views: 25.0ms | ActiveRecord: 1.5ms)


Started GET "/projects/6/scenes/10/edit?notice=Scene+was+successfully+updated." for 127.0.0.1 at 2013-05-18 18:35:36 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"notice"=>"Scene was successfully updated.", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  Rendered scenes/edit.html.erb within layouts/application (25.0ms)
Completed 200 OK in 30ms (Views: 26.5ms | ActiveRecord: 1.6ms)


Started GET "/projects/6/scenes/10/edit?notice=Scene+was+successfully+updated." for 127.0.0.1 at 2013-05-18 18:53:31 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"notice"=>"Scene was successfully updated.", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
ERROR: compiling _app_views_scenes_edit_html_erb__96029362695483580_2186997840 RAISED /Users/nicolebeguesse/myvisualnovel/app/views/scenes/edit.html.erb:117: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/nicolebeguesse/myvisualnovel/app/views/scenes/edit.html.erb:119: syntax error, unexpected $end, expecting keyword_end
Function body:           def _app_views_scenes_edit_html_erb__96029362695483580_2186997840(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "scenes/edit";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table class="scene-editor">
	<tr>
		<td>
			<table class="table">
			  <tr><td><b>Story:</b> ');@output_buffer.append= (@project.title);@output_buffer.safe_concat('</td></tr>
			  <tr><td><b>Scene:</b> <a title="Click to change scene description">');@output_buffer.append= (@scene.get_description);@output_buffer.safe_concat('</a></td></tr>
			  <tr><td>
			  	 <h2>Script</h2>
			  	 <table class="script table-bordered table-hover">
			  	 	<tbody>
');			  	 	Event.for_scene(@scene).ordered.each do |event|
@output_buffer.safe_concat('			  	 	  <tr data-id="');@output_buffer.append= (event.id);@output_buffer.safe_concat('" id="row');@output_buffer.append= (event.id);@output_buffer.safe_concat('" class="');@output_buffer.append= ("selected" if @event_index==event.order_index);@output_buffer.safe_concat('">
			  	 	  	<td>
			  	 	  		');@output_buffer.append= (event.to_sentence);@output_buffer.safe_concat('
');@output_buffer.safe_concat('			  	 	  		<div class="more"><hr>
');			  	 	  		  if event.is_a?(BackgroundImageEvent)
@output_buffer.safe_concat('			  	 	  		    <a class="btn btn-small edit-bg-image" href="#"><i class="icon-pencil"></i> Change Image</a><br/>
');			  	 	  		  end
			  	 	  		  if event.order_index != 1
@output_buffer.safe_concat('			  	 	  		    <a class="btn btn-small" href="#"><i class="icon-arrow-up"></i> Move Up</a>
');@output_buffer.safe_concat('			  	 	  		  ');end;if event.order_index != @scene.events.count;@output_buffer.safe_concat('
');@output_buffer.safe_concat('			  	 	  		  <a class="btn btn-small" href="#"><i class="icon-arrow-down"></i> Move Down</a>
');			  	 	  		  end
@output_buffer.safe_concat('			  	 	  		  <a class="btn btn-small confirmable" href="');@output_buffer.append= (delete_event_path(event));@output_buffer.safe_concat('"><i class="icon-remove"></i> Remove</a>
			  	 	  		</div>
			  	 	  	</td>
			  	 	  	<td>
			  	 	  		<a class="btn btn-mini" href="#" id=\'dropdown\'><i class="icon-pencil"></i></a>
			  	 	  	</td>
			  	 	  </tr>
');			  	 	end
@output_buffer.safe_concat('			  	    </tbody>
			  	 </table> 
			  	 <h3>Add to the Script!</h3>
');			  	 @project.characters.each do |character|
			  	   if @scene.has_character?(character, @event_index)
@output_buffer.safe_concat('			  	      <table class="action-items table-bordered">
				  	 	<tr><td rowspan=3>');@output_buffer.append= (image_tag "spacer.gif", :style=>"background-color:lightgray");@output_buffer.safe_concat('</td>
				  	 	<td>');@output_buffer.append= (character.name);@output_buffer.safe_concat(' speaks</td></tr>
				  	 	<tr><td>');@output_buffer.append= (character.name);@output_buffer.safe_concat(' changes pose</td></tr>
				  	 	<tr><td>');@output_buffer.append= (character.name);@output_buffer.safe_concat(' vanishes</td></tr>
			  	      </table>
');			  	   else
			  	      if character.is_narrator?
@output_buffer.safe_concat('			  	        <table class="action-items table-bordered">
					  	 	<tr><td rowspan=3>');@output_buffer.append= (image_tag "spacer.gif", :style=>"background-color:lightgray");@output_buffer.safe_concat('</td>
					  	 	<td>');@output_buffer.append= (character.name);@output_buffer.safe_concat(' narrates</td></tr>
					  	 	<tr><td>');@output_buffer.append= (character.name);@output_buffer.safe_concat(' thinks</td></tr>
					  	 	<tr><td>');@output_buffer.append= (character.name);@output_buffer.safe_concat(' speaks</td></tr>
			  	        </table>
');			  	      else
@output_buffer.safe_concat('			  	        <table class="action-items table-bordered">
					  	 	<tr><td rowspan=1>');@output_buffer.append= (image_tag "spacer.gif", :style=>"background-color:lightgray");@output_buffer.safe_concat('</td>
					  	 	<td><a href="#" class="edit-pose" data-name="');@output_buffer.append= (character.type);@output_buffer.safe_concat('">');@output_buffer.append= (character.name);@output_buffer.safe_concat(' appears</a></td></tr>
					  	 </table>  
');			  	      end
			  	   end
			  	 end
@output_buffer.safe_concat('			  	 <table class="action-items table-bordered">
			  	 	<tr><td rowspan=3>');@output_buffer.append= (image_tag "spacer.gif", :style=>"background-color:lightgray");@output_buffer.safe_concat('</td>
			  	 	<td><a href="#" class="edit-bg-image">Background changes</a></td></tr>
			  	 	<tr><td>Music changes</td></tr>
			  	 	<tr><td>Scene finished!</td></tr>
			  	 </table>
			  </td></tr>
			</table>
		</td>
		<td>
		  <div class="mini-editor">

		  	<!-- Stage Viewer -->
		    <div class="mini-viewer">
			  ');@output_buffer.append= (image_tag @scene.image_at(@event_index).get_file, :class=>"bg");@output_buffer.safe_concat('
');			  if @scene.character_poses.each do |event|
@output_buffer.safe_concat('			    ');@output_buffer.append= (image_tag event.get_file, :style=>"position:absolute; top:100px");@output_buffer.safe_concat('
');			  end
@output_buffer.safe_concat('		    </div>
		    <div class="overlay-topper"><span></span><a class="btn btn-small" href="#"><i class="icon-remove"></i> Close</a></div>

		    <!-- BG Images -->
		    <div class="overlay bg-image">
');		      BackgroundImageEvent.file_list.each do |option|
@output_buffer.safe_concat('		        ');@output_buffer.append= (form_tag update_event_project_scene_path(@project, @scene));@output_buffer.safe_concat('
');@output_buffer.safe_concat('		          <input type="hidden" name="event[type]" value="BackgroundImageEvent">
		          <input type="hidden" name="event[filename]" value="');@output_buffer.append= (option.filename);@output_buffer.safe_concat('">
		          <input type="hidden" name="event_id" class="event_id" value="">
		          <div class="floater">
		          	');@output_buffer.append= (link_to image_tag(option.image_url), "#");@output_buffer.append= (link_to option.title, "#");@output_buffer.safe_concat('
');@output_buffer.safe_concat('		          </div>
		        </form>
');		      end
@output_buffer.safe_concat('		    </div>

		    <!-- Poses -->
		    
');		    @project.characters.each do |character|
		    next if character.is_narrator?
@output_buffer.safe_concat('		      <div class="overlay poses-for-');@output_buffer.append= (character.type);@output_buffer.safe_concat('">
');			    character.type.constantize.pose_list.each do |option|
@output_buffer.safe_concat('			      ');@output_buffer.append= (form_tag update_event_project_scene_path(@project, @scene));@output_buffer.safe_concat('
');@output_buffer.safe_concat('			        <input type="hidden" name="event[type]" value="CharacterPoseEvent">
		            <input type="hidden" name="event[filename]" value="');@output_buffer.append= (option.filename);@output_buffer.safe_concat('">
		            <input type="hidden" name="event[character_id]" value="');@output_buffer.append= (character.id);@output_buffer.safe_concat('">
		            <input type="hidden" name="event_id" class="event_id" value="">
			  	    <div class="floater">
			  	    ');@output_buffer.append= (link_to image_tag(option.image_url), "#");@output_buffer.append= (link_to option.title, "#");@output_buffer.safe_concat('
');@output_buffer.safe_concat('			  	    </div>
			  	  </form>
');			  	end
@output_buffer.safe_concat('		      </div>
');		    end
@output_buffer.safe_concat('		  </div>
		</td>
	</tr>
</table>
');@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_view/template.rb:297:in `module_eval'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_view/template.rb:297:in `compile'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_view/template.rb:244:in `block in compile!'
<internal:prelude>:10:in `synchronize'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_view/template.rb:232:in `compile!'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_view/template.rb:144:in `block in render'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activesupport-3.2.13/lib/active_support/notifications.rb:125:in `instrument'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_view/template.rb:143:in `render'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_view/renderer/template_renderer.rb:47:in `block (2 levels) in render_template'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activesupport-3.2.13/lib/active_support/notifications.rb:123:in `block in instrument'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activesupport-3.2.13/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activesupport-3.2.13/lib/active_support/notifications.rb:123:in `instrument'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_view/renderer/template_renderer.rb:46:in `block in render_template'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_view/renderer/template_renderer.rb:54:in `render_with_layout'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_view/renderer/template_renderer.rb:45:in `render_template'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_view/renderer/template_renderer.rb:18:in `render'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_view/renderer/renderer.rb:36:in `render_template'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_view/renderer/renderer.rb:17:in `render'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/abstract_controller/rendering.rb:110:in `_render_template'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_controller/metal/streaming.rb:225:in `_render_template'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/abstract_controller/rendering.rb:103:in `render_to_body'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_controller/metal/renderers.rb:28:in `render_to_body'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_controller/metal/compatibility.rb:50:in `render_to_body'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/abstract_controller/rendering.rb:88:in `render'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_controller/metal/rendering.rb:16:in `render'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activesupport-3.2.13/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/nicolebeguesse/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activesupport-3.2.13/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_controller/metal/instrumentation.rb:83:in `cleanup_view_runtime'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activerecord-3.2.13/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/abstract_controller/base.rb:167:in `process_action'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_controller/metal/rendering.rb:10:in `process_action'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activesupport-3.2.13/lib/active_support/callbacks.rb:414:in `_run__3786750001130421631__process_action__4276189235674204148__callbacks'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activesupport-3.2.13/lib/active_support/callbacks.rb:405:in `__run_callback'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activesupport-3.2.13/lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activesupport-3.2.13/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_controller/metal/rescue.rb:29:in `process_action'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activesupport-3.2.13/lib/active_support/notifications.rb:123:in `block in instrument'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activesupport-3.2.13/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activesupport-3.2.13/lib/active_support/notifications.rb:123:in `instrument'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_controller/metal/params_wrapper.rb:207:in `process_action'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activerecord-3.2.13/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/abstract_controller/base.rb:121:in `process'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/abstract_controller/rendering.rb:45:in `process'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_controller/metal.rb:203:in `dispatch'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_controller/metal.rb:246:in `block in action'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/routing/route_set.rb:73:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/routing/route_set.rb:36:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/journey-1.0.4/lib/journey/router.rb:68:in `block in call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/journey-1.0.4/lib/journey/router.rb:56:in `each'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/journey-1.0.4/lib/journey/router.rb:56:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/routing/route_set.rb:612:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/rack-1.4.5/lib/rack/etag.rb:23:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/rack-1.4.5/lib/rack/conditionalget.rb:25:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/flash.rb:242:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/rack-1.4.5/lib/rack/session/abstract/id.rb:210:in `context'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/rack-1.4.5/lib/rack/session/abstract/id.rb:205:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/cookies.rb:341:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activerecord-3.2.13/lib/active_record/query_cache.rb:64:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:479:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activesupport-3.2.13/lib/active_support/callbacks.rb:405:in `_run__4249088244294255756__call__1092374701692315572__callbacks'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activesupport-3.2.13/lib/active_support/callbacks.rb:405:in `__run_callback'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activesupport-3.2.13/lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activesupport-3.2.13/lib/active_support/callbacks.rb:81:in `run_callbacks'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/reloader.rb:65:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/railties-3.2.13/lib/rails/rack/logger.rb:32:in `call_app'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/railties-3.2.13/lib/rails/rack/logger.rb:16:in `block in call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activesupport-3.2.13/lib/active_support/tagged_logging.rb:22:in `tagged'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/railties-3.2.13/lib/rails/rack/logger.rb:16:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/request_id.rb:22:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/rack-1.4.5/lib/rack/methodoverride.rb:21:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/rack-1.4.5/lib/rack/runtime.rb:17:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/activesupport-3.2.13/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/rack-1.4.5/lib/rack/lock.rb:15:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/static.rb:63:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/railties-3.2.13/lib/rails/engine.rb:479:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/railties-3.2.13/lib/rails/application.rb:223:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/rack-1.4.5/lib/rack/content_length.rb:14:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/railties-3.2.13/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/rack-1.4.5/lib/rack/handler/webrick.rb:59:in `service'
/Users/nicolebeguesse/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
/Users/nicolebeguesse/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
/Users/nicolebeguesse/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
  Rendered scenes/edit.html.erb within layouts/application (1.6ms)
Completed 500 Internal Server Error in 30ms

ActionView::Template::Error (/Users/nicolebeguesse/myvisualnovel/app/views/scenes/edit.html.erb:117: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/nicolebeguesse/myvisualnovel/app/views/scenes/edit.html.erb:119: syntax error, unexpected $end, expecting keyword_end):
    114: 	</tr>
    115: </table>
  actionpack (3.2.13) lib/action_view/template.rb:297:in `module_eval'
  actionpack (3.2.13) lib/action_view/template.rb:297:in `compile'
  actionpack (3.2.13) lib/action_view/template.rb:244:in `block in compile!'
  <internal:prelude>:10:in `synchronize'
  actionpack (3.2.13) lib/action_view/template.rb:232:in `compile!'
  actionpack (3.2.13) lib/action_view/template.rb:144:in `block in render'
  activesupport (3.2.13) lib/active_support/notifications.rb:125:in `instrument'
  actionpack (3.2.13) lib/action_view/template.rb:143:in `render'
  actionpack (3.2.13) lib/action_view/renderer/template_renderer.rb:47:in `block (2 levels) in render_template'
  actionpack (3.2.13) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (3.2.13) lib/active_support/notifications.rb:123:in `block in instrument'
  activesupport (3.2.13) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (3.2.13) lib/active_support/notifications.rb:123:in `instrument'
  actionpack (3.2.13) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (3.2.13) lib/action_view/renderer/template_renderer.rb:46:in `block in render_template'
  actionpack (3.2.13) lib/action_view/renderer/template_renderer.rb:54:in `render_with_layout'
  actionpack (3.2.13) lib/action_view/renderer/template_renderer.rb:45:in `render_template'
  actionpack (3.2.13) lib/action_view/renderer/template_renderer.rb:18:in `render'
  actionpack (3.2.13) lib/action_view/renderer/renderer.rb:36:in `render_template'
  actionpack (3.2.13) lib/action_view/renderer/renderer.rb:17:in `render'
  actionpack (3.2.13) lib/abstract_controller/rendering.rb:110:in `_render_template'
  actionpack (3.2.13) lib/action_controller/metal/streaming.rb:225:in `_render_template'
  actionpack (3.2.13) lib/abstract_controller/rendering.rb:103:in `render_to_body'
  actionpack (3.2.13) lib/action_controller/metal/renderers.rb:28:in `render_to_body'
  actionpack (3.2.13) lib/action_controller/metal/compatibility.rb:50:in `render_to_body'
  actionpack (3.2.13) lib/abstract_controller/rendering.rb:88:in `render'
  actionpack (3.2.13) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (3.2.13) lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
  activesupport (3.2.13) lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
  /Users/nicolebeguesse/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
  activesupport (3.2.13) lib/active_support/core_ext/benchmark.rb:5:in `ms'
  actionpack (3.2.13) lib/action_controller/metal/instrumentation.rb:40:in `block in render'
  actionpack (3.2.13) lib/action_controller/metal/instrumentation.rb:83:in `cleanup_view_runtime'
  activerecord (3.2.13) lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
  actionpack (3.2.13) lib/action_controller/metal/instrumentation.rb:39:in `render'
  actionpack (3.2.13) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (3.2.13) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (3.2.13) lib/abstract_controller/base.rb:167:in `process_action'
  actionpack (3.2.13) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (3.2.13) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (3.2.13) lib/active_support/callbacks.rb:414:in `_run__3786750001130421631__process_action__4276189235674204148__callbacks'
  activesupport (3.2.13) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.13) lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
  activesupport (3.2.13) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.13) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (3.2.13) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (3.2.13) lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
  activesupport (3.2.13) lib/active_support/notifications.rb:123:in `block in instrument'
  activesupport (3.2.13) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (3.2.13) lib/active_support/notifications.rb:123:in `instrument'
  actionpack (3.2.13) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
  actionpack (3.2.13) lib/action_controller/metal/params_wrapper.rb:207:in `process_action'
  activerecord (3.2.13) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (3.2.13) lib/abstract_controller/base.rb:121:in `process'
  actionpack (3.2.13) lib/abstract_controller/rendering.rb:45:in `process'
  actionpack (3.2.13) lib/action_controller/metal.rb:203:in `dispatch'
  actionpack (3.2.13) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.2.13) lib/action_controller/metal.rb:246:in `block in action'
  actionpack (3.2.13) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (3.2.13) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (3.2.13) lib/action_dispatch/routing/route_set.rb:36:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.13) lib/action_dispatch/routing/route_set.rb:612:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.5) lib/rack/etag.rb:23:in `call'
  rack (1.4.5) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/flash.rb:242:in `call'
  rack (1.4.5) lib/rack/session/abstract/id.rb:210:in `context'
  rack (1.4.5) lib/rack/session/abstract/id.rb:205:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/cookies.rb:341:in `call'
  activerecord (3.2.13) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.13) lib/active_record/connection_adapters/abstract/connection_pool.rb:479:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.13) lib/active_support/callbacks.rb:405:in `_run__4249088244294255756__call__1092374701692315572__callbacks'
  activesupport (3.2.13) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.13) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.13) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.13) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.13) lib/rails/rack/logger.rb:32:in `call_app'
  railties (3.2.13) lib/rails/rack/logger.rb:16:in `block in call'
  activesupport (3.2.13) lib/active_support/tagged_logging.rb:22:in `tagged'
  railties (3.2.13) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.5) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.5) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.13) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.5) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/static.rb:63:in `call'
  railties (3.2.13) lib/rails/engine.rb:479:in `call'
  railties (3.2.13) lib/rails/application.rb:223:in `call'
  rack (1.4.5) lib/rack/content_length.rb:14:in `call'
  railties (3.2.13) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.5) lib/rack/handler/webrick.rb:59:in `service'
  /Users/nicolebeguesse/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  /Users/nicolebeguesse/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  /Users/nicolebeguesse/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'


  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (7.2ms)


Started GET "/projects/6/scenes/10/edit?notice=Scene+was+successfully+updated." for 127.0.0.1 at 2013-05-18 18:54:09 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"notice"=>"Scene was successfully updated.", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  Rendered scenes/edit.html.erb within layouts/application (114.5ms)
Completed 200 OK in 121ms (Views: 116.0ms | ActiveRecord: 2.3ms)


Started GET "/projects/6/scenes/10/edit?notice=Scene+was+successfully+updated." for 127.0.0.1 at 2013-05-18 18:54:44 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"notice"=>"Scene was successfully updated.", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  Rendered scenes/edit.html.erb within layouts/application (55.2ms)
Completed 500 Internal Server Error in 60ms

ActionView::Template::Error (undefined local variable or method `character' for #<Scene:0x00000101c81d90>):
    71: 		  	<!-- Stage Viewer -->
    72: 		    <div class="mini-viewer">
    73: 			  <%=image_tag @scene.image_at(@event_index).get_file, :class=>"bg"%>
    74: 			  <%@scene.character_poses(@event_index).each do |event|%>
    75: 			    <%=image_tag event.get_file, :style=>"position:absolute; top:100px"%>
    76: 			  <%end%>
    77: 		    </div>
  app/models/scene.rb:49:in `block in character_poses'
  app/models/scene.rb:48:in `character_poses'
  app/views/scenes/edit.html.erb:74:in `_app_views_scenes_edit_html_erb__96029362695483580_2162383500'


  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (7.4ms)


Started GET "/projects/6/scenes/10/edit?notice=Scene+was+successfully+updated." for 127.0.0.1 at 2013-05-18 18:55:14 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"notice"=>"Scene was successfully updated.", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  Rendered scenes/edit.html.erb within layouts/application (110.4ms)
Completed 500 Internal Server Error in 138ms

ActionView::Template::Error (undefined method `get_file' for #<ActiveRecord::Relation:0x00000104d1d198>):
    72: 		    <div class="mini-viewer">
    73: 			  <%=image_tag @scene.image_at(@event_index).get_file, :class=>"bg"%>
    74: 			  <%@scene.character_poses(@event_index).each do |event|%>
    75: 			    <%=image_tag event.get_file, :style=>"position:absolute; top:100px"%>
    76: 			  <%end%>
    77: 		    </div>
    78: 		    <div class="overlay-topper"><span></span><a class="btn btn-small" href="#"><i class="icon-remove"></i> Close</a></div>
  app/views/scenes/edit.html.erb:75:in `block in _app_views_scenes_edit_html_erb__96029362695483580_2162383500'
  app/views/scenes/edit.html.erb:74:in `each'
  app/views/scenes/edit.html.erb:74:in `_app_views_scenes_edit_html_erb__96029362695483580_2162383500'


  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (7.7ms)


Started GET "/projects/6/scenes/10/edit?notice=Scene+was+successfully+updated." for 127.0.0.1 at 2013-05-18 18:55:34 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"notice"=>"Scene was successfully updated.", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (114.4ms)
Completed 200 OK in 181ms (Views: 116.1ms | ActiveRecord: 3.3ms)


Started GET "/projects/6/scenes/10/edit?notice=Scene+was+successfully+updated." for 127.0.0.1 at 2013-05-18 18:55:53 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"notice"=>"Scene was successfully updated.", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.4ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (28.7ms)
Completed 200 OK in 35ms (Views: 30.1ms | ActiveRecord: 2.0ms)


Started GET "/events/2/delete" for 127.0.0.1 at 2013-05-18 18:56:16 -0400
Processing by EventsController#delete as HTML
  Parameters: {"id"=>"2"}
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1  [["id", "2"]]
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "events" WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = ?  [["id", 2]]
  [1m[36m (274.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/projects/6/scenes/10/edit
Completed 302 Found in 281ms (ActiveRecord: 274.9ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 18:56:16 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (25.1ms)
Completed 200 OK in 33ms (Views: 27.4ms | ActiveRecord: 1.7ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 18:57:00 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (24.4ms)
Completed 200 OK in 30ms (Views: 26.6ms | ActiveRecord: 1.4ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 18:57:02 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (21.9ms)
Completed 200 OK in 28ms (Views: 24.4ms | ActiveRecord: 1.2ms)
Connecting to database specified by database.yml
Connecting to database specified by database.yml


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:01:29 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (119.4ms)
Completed 200 OK in 149ms (Views: 120.9ms | ActiveRecord: 3.4ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:02:27 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (26.3ms)
Completed 200 OK in 33ms (Views: 28.5ms | ActiveRecord: 1.7ms)


Started POST "/projects/6/scenes/10/update_event" for 127.0.0.1 at 2013-05-18 19:02:41 -0400
Processing by ScenesController#update_event as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IxgJI3mnN03R0RyoR9xiC/FAH8eAkfG4Ue6ixVX56Gg=", "event"=>{"type"=>"CharacterPoseEvent", "filename"=>"oh_my_1.gif", "character_id"=>"2"}, "event_id"=>"", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "events" ("character_id", "character_type", "created_at", "filename", "order_index", "scene_id", "subfilename", "type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["character_id", 2], ["character_type", "Hitomi"], ["created_at", Sat, 18 May 2013 23:02:41 UTC +00:00], ["filename", "oh_my_1.gif"], ["order_index", 4], ["scene_id", 10], ["subfilename", nil], ["type", "CharacterPoseEvent"], ["updated_at", Sat, 18 May 2013 23:02:41 UTC +00:00]]
  [1m[36m (39.7ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/projects/6/scenes/10/edit?notice=Scene+was+successfully+updated.
Completed 302 Found in 52ms (ActiveRecord: 41.1ms)


Started GET "/projects/6/scenes/10/edit?notice=Scene+was+successfully+updated." for 127.0.0.1 at 2013-05-18 19:02:41 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"notice"=>"Scene was successfully updated.", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (27.5ms)
Completed 200 OK in 34ms (Views: 29.1ms | ActiveRecord: 1.9ms)


Started GET "/projects/6/scenes/10/edit?notice=Scene+was+successfully+updated." for 127.0.0.1 at 2013-05-18 19:04:17 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"notice"=>"Scene was successfully updated.", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (27.9ms)
Completed 200 OK in 34ms (Views: 29.3ms | ActiveRecord: 2.0ms)


Started GET "/projects/6/scenes/10/edit?notice=Scene+was+successfully+updated." for 127.0.0.1 at 2013-05-18 19:04:37 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"notice"=>"Scene was successfully updated.", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (30.0ms)
Completed 200 OK in 36ms (Views: 31.3ms | ActiveRecord: 2.2ms)


Started GET "/projects/6/scenes/10/edit?notice=Scene+was+successfully+updated." for 127.0.0.1 at 2013-05-18 19:05:31 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"notice"=>"Scene was successfully updated.", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.2ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (32.5ms)
Completed 200 OK in 38ms (Views: 33.3ms | ActiveRecord: 2.3ms)


Started GET "/projects/6/scenes/10/edit?notice=Scene+was+successfully+updated." for 127.0.0.1 at 2013-05-18 19:05:58 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"notice"=>"Scene was successfully updated.", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (77.0ms)
Completed 200 OK in 82ms (Views: 77.9ms | ActiveRecord: 2.2ms)


Started POST "/projects/6/scenes/10/update_event" for 127.0.0.1 at 2013-05-18 19:06:30 -0400
Processing by ScenesController#update_event as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IxgJI3mnN03R0RyoR9xiC/FAH8eAkfG4Ue6ixVX56Gg=", "event"=>{"type"=>"BackgroundImageEvent", "filename"=>"school_classroom.jpg"}, "event_id"=>"6", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  UPDATE "events" SET "filename" = 'school_classroom.jpg', "updated_at" = '2013-05-18 23:06:31.001667' WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = 6
  [1m[36m (39.9ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/projects/6/scenes/10/edit?notice=Scene+was+successfully+updated.
Completed 302 Found in 48ms (ActiveRecord: 40.7ms)


Started GET "/projects/6/scenes/10/edit?notice=Scene+was+successfully+updated." for 127.0.0.1 at 2013-05-18 19:06:31 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"notice"=>"Scene was successfully updated.", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (32.1ms)
Completed 200 OK in 38ms (Views: 33.5ms | ActiveRecord: 2.1ms)


Started GET "/projects/6/scenes/10/edit?notice=Scene+was+successfully+updated." for 127.0.0.1 at 2013-05-18 19:08:10 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"notice"=>"Scene was successfully updated.", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.2ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (118.6ms)
Completed 200 OK in 148ms (Views: 119.7ms | ActiveRecord: 3.8ms)


Started POST "/projects/6/scenes/10/update_event" for 127.0.0.1 at 2013-05-18 19:08:19 -0400
Processing by ScenesController#update_event as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IxgJI3mnN03R0RyoR9xiC/FAH8eAkfG4Ue6ixVX56Gg=", "event"=>{"type"=>"BackgroundImageEvent", "filename"=>"school_hallway.jpg"}, "event_id"=>"6", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  UPDATE "events" SET "filename" = 'school_hallway.jpg', "updated_at" = '2013-05-18 23:08:19.795432' WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = 6
  [1m[36m (40.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (26.8ms)
Completed 200 OK in 80ms (Views: 29.3ms | ActiveRecord: 42.8ms)


Started GET "/projects/6/scenes/10/" for 127.0.0.1 at 2013-05-18 19:13:06 -0400
Processing by ScenesController#show as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  Rendered scenes/show.html.erb within layouts/application (0.1ms)
Completed 200 OK in 51ms (Views: 49.0ms | ActiveRecord: 0.2ms)


Started GET "/projects/6/scenes" for 127.0.0.1 at 2013-05-18 19:13:11 -0400
Processing by ScenesController#index as HTML
  Parameters: {"project_id"=>"6"}
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  Rendered scenes/index.html.erb within layouts/application (14.5ms)
Completed 200 OK in 21ms (Views: 18.3ms | ActiveRecord: 0.6ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:13:14 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.2ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (32.9ms)
Completed 200 OK in 39ms (Views: 34.1ms | ActiveRecord: 2.3ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:13:35 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (29.6ms)
Completed 200 OK in 35ms (Views: 31.2ms | ActiveRecord: 1.9ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:13:48 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.2ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (30.3ms)
Completed 200 OK in 36ms (Views: 31.5ms | ActiveRecord: 2.3ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:15:53 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (28.4ms)
Completed 200 OK in 34ms (Views: 29.7ms | ActiveRecord: 2.1ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:16:19 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (75.4ms)
Completed 200 OK in 81ms (Views: 76.5ms | ActiveRecord: 2.4ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:16:29 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (27.9ms)
Completed 200 OK in 33ms (Views: 29.1ms | ActiveRecord: 2.1ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:17:27 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (29.7ms)
Completed 200 OK in 35ms (Views: 30.9ms | ActiveRecord: 2.0ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:18:22 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (27.6ms)
Completed 200 OK in 33ms (Views: 28.7ms | ActiveRecord: 1.9ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:18:41 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (31.3ms)
Completed 200 OK in 37ms (Views: 32.6ms | ActiveRecord: 2.2ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:18:51 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (26.5ms)
Completed 200 OK in 32ms (Views: 28.1ms | ActiveRecord: 1.7ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:18:52 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (26.4ms)
Completed 200 OK in 33ms (Views: 28.0ms | ActiveRecord: 1.9ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:19:02 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (31.2ms)
Completed 200 OK in 38ms (Views: 33.0ms | ActiveRecord: 2.3ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:19:34 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (30.0ms)
Completed 200 OK in 35ms (Views: 30.9ms | ActiveRecord: 2.1ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:19:56 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.2ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (31.3ms)
Completed 200 OK in 37ms (Views: 32.2ms | ActiveRecord: 2.4ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:19:59 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (28.5ms)
Completed 200 OK in 34ms (Views: 29.7ms | ActiveRecord: 2.1ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:21:49 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (29.4ms)
Completed 200 OK in 36ms (Views: 30.8ms | ActiveRecord: 2.2ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:23:25 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.3ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (77.7ms)
Completed 200 OK in 84ms (Views: 79.2ms | ActiveRecord: 2.4ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:24:02 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.2ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (35.5ms)
Completed 200 OK in 43ms (Views: 36.9ms | ActiveRecord: 2.6ms)


Started GET "/projects/6/scenes/10/edit?event_id=9" for 127.0.0.1 at 2013-05-18 19:24:05 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"9", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '9') AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '9') AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '9') AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= '9') AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '9') AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '9') AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= '9') AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '9') AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (31.8ms)
Completed 200 OK in 37ms (Views: 32.6ms | ActiveRecord: 2.4ms)


Started GET "/projects/6/scenes/10/edit?event_id=9" for 127.0.0.1 at 2013-05-18 19:24:09 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"9", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '9') AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '9') AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '9') AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= '9') AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '9') AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '9') AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= '9') AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '9') AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (68.4ms)
Completed 200 OK in 74ms (Views: 69.7ms | ActiveRecord: 2.3ms)


Started GET "/projects/6/scenes/10/edit?event_id=6" for 127.0.0.1 at 2013-05-18 19:24:11 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"6", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '6') AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '6') AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '6') AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= '6') AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '6') AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '6') AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= '6') AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '6') AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (34.0ms)
Completed 200 OK in 40ms (Views: 34.7ms | ActiveRecord: 2.5ms)


Started GET "/projects/6/scenes/10/edit?event_id=6" for 127.0.0.1 at 2013-05-18 19:24:53 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"6", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '6') AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '6') AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '6') AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= '6') AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '6') AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '6') AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= '6') AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= '6') AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (127.7ms)
Completed 200 OK in 150ms (Views: 128.4ms | ActiveRecord: 3.7ms)


Started GET "/projects/6/scenes/10/edit?event_id=6" for 127.0.0.1 at 2013-05-18 19:25:09 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"6", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= NULL) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= NULL) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= NULL) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= NULL) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= NULL) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (156.9ms)
Completed 200 OK in 223ms (Views: 158.1ms | ActiveRecord: 3.6ms)


Started GET "/projects/6/scenes/10/edit?event_id=6" for 127.0.0.1 at 2013-05-18 19:25:30 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"6", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (128.8ms)
Completed 200 OK in 151ms (Views: 129.8ms | ActiveRecord: 3.5ms)


Started GET "/projects/6/scenes/10/edit?event_id=6" for 127.0.0.1 at 2013-05-18 19:25:33 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"6", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (32.9ms)
Completed 200 OK in 38ms (Views: 34.2ms | ActiveRecord: 2.2ms)


Started GET "/projects/6/scenes/10/edit?event_id=6" for 127.0.0.1 at 2013-05-18 19:25:55 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"6", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (36.8ms)
Completed 200 OK in 42ms (Views: 37.4ms | ActiveRecord: 2.7ms)


Started GET "/projects/6/scenes/10/edit?event_id=2" for 127.0.0.1 at 2013-05-18 19:25:57 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"2", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (26.3ms)
Completed 200 OK in 80ms (Views: 28.4ms | ActiveRecord: 1.5ms)


Started GET "/projects/6/scenes/10/edit?event_id=3" for 127.0.0.1 at 2013-05-18 19:26:00 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"3", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (36.9ms)
Completed 200 OK in 42ms (Views: 37.9ms | ActiveRecord: 2.4ms)


Started GET "/projects/6/scenes/10/edit?event_id=4" for 127.0.0.1 at 2013-05-18 19:26:04 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.2ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishesEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (33.7ms)
Completed 200 OK in 39ms (Views: 34.6ms | ActiveRecord: 2.5ms)


Started GET "/projects/6/scenes/10/edit?event_id=4" for 127.0.0.1 at 2013-05-18 19:31:23 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (132.5ms)
Completed 200 OK in 155ms (Views: 133.6ms | ActiveRecord: 3.6ms)


Started GET "/projects/6/scenes/10/edit?event_id=4" for 127.0.0.1 at 2013-05-18 19:32:19 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (69.7ms)
Completed 200 OK in 75ms (Views: 71.3ms | ActiveRecord: 1.9ms)


Started POST "/projects/6/scenes/10/update_event" for 127.0.0.1 at 2013-05-18 19:32:31 -0400
Processing by ScenesController#update_event as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IxgJI3mnN03R0RyoR9xiC/FAH8eAkfG4Ue6ixVX56Gg=", "event"=>{"type"=>"CharacterVanishEvent"}, "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "events" ("character_id", "character_type", "created_at", "filename", "order_index", "scene_id", "subfilename", "type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["character_id", nil], ["character_type", nil], ["created_at", Sat, 18 May 2013 23:32:31 UTC +00:00], ["filename", nil], ["order_index", 5], ["scene_id", 10], ["subfilename", nil], ["type", "CharacterVanishEvent"], ["updated_at", Sat, 18 May 2013 23:32:31 UTC +00:00]]
  [1m[36m (41.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  Rendered scenes/edit.html.erb within layouts/application (27.8ms)
Completed 500 Internal Server Error in 81ms

ActionView::Template::Error (undefined method `name' for nil:NilClass):
    12: 			  	 	  <tr data-id="<%=event.id%>" id="row<%=event.id%>" class="<%="selected" if @event_index==event.order_index%>">
    13: 			  	 	  	<td>
    14: 			  	 	  		<%if @event_index==event.order_index%>
    15: 			  	 	  		  <%=event.to_sentence%>
    16: 			  	 	  		<%else%>
    17: 			  	 	  		  <div class="jump-to tippable" title="Jump Here" data-url="<%=edit_project_scene_url(@project, @scene, :event_id=>event.order_index)%>"><%=event.to_sentence%></div>
    18: 			  	 	  		<%end%>
  app/models/events/character_vanish_event.rb:6:in `to_sentence'
  app/views/scenes/edit.html.erb:15:in `block in _app_views_scenes_edit_html_erb__96029362695483580_2186976960'
  app/views/scenes/edit.html.erb:11:in `_app_views_scenes_edit_html_erb__96029362695483580_2186976960'
  app/controllers/scenes_controller.rb:78:in `block (2 levels) in update_event'
  app/controllers/scenes_controller.rb:75:in `update_event'


  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (7.6ms)


Started GET "/projects/6/scenes/10/edit?event_id=3" for 127.0.0.1 at 2013-05-18 19:33:31 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"3", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.4ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (35.4ms)
Completed 200 OK in 42ms (Views: 36.9ms | ActiveRecord: 2.4ms)


Started POST "/projects/6/scenes/10/update_event" for 127.0.0.1 at 2013-05-18 19:33:36 -0400
Processing by ScenesController#update_event as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IxgJI3mnN03R0RyoR9xiC/FAH8eAkfG4Ue6ixVX56Gg=", "event"=>{"type"=>"CharacterVanishEvent", "character_id"=>"2"}, "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "events" ("character_id", "character_type", "created_at", "filename", "order_index", "scene_id", "subfilename", "type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["character_id", 2], ["character_type", "Hitomi"], ["created_at", Sat, 18 May 2013 23:33:36 UTC +00:00], ["filename", nil], ["order_index", 5], ["scene_id", 10], ["subfilename", nil], ["type", "CharacterVanishEvent"], ["updated_at", Sat, 18 May 2013 23:33:36 UTC +00:00]]
  [1m[35m (41.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (37.2ms)
Completed 200 OK in 91ms (Views: 38.3ms | ActiveRecord: 44.5ms)


Started GET "/projects/6/scenes" for 127.0.0.1 at 2013-05-18 19:34:01 -0400
Processing by ScenesController#index as HTML
  Parameters: {"project_id"=>"6"}
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  Rendered scenes/index.html.erb within layouts/application (48.0ms)
Completed 200 OK in 109ms (Views: 51.4ms | ActiveRecord: 1.8ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:34:03 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.3ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.3ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 0) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 0) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 0) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 0) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 0) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (125.1ms)
Completed 200 OK in 133ms (Views: 126.4ms | ActiveRecord: 2.8ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:34:03 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 0) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 0) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 0) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 0) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 0) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (28.4ms)
Completed 200 OK in 34ms (Views: 30.1ms | ActiveRecord: 1.6ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:34:07 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 0) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 0) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 0) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 0) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 0) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (73.7ms)
Completed 200 OK in 79ms (Views: 75.0ms | ActiveRecord: 2.0ms)


Started GET "/projects/6/scenes/10/edit?event_id=5" for 127.0.0.1 at 2013-05-18 19:34:39 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"5", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (33.0ms)
Completed 200 OK in 38ms (Views: 34.0ms | ActiveRecord: 2.3ms)


Started GET "/projects/6/scenes/10/edit?event_id=4" for 127.0.0.1 at 2013-05-18 19:34:42 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (33.0ms)
Completed 200 OK in 38ms (Views: 34.5ms | ActiveRecord: 2.1ms)


Started GET "/projects/6/scenes/10/edit?event_id=3" for 127.0.0.1 at 2013-05-18 19:34:52 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"3", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (30.6ms)
Completed 200 OK in 35ms (Views: 31.8ms | ActiveRecord: 1.8ms)


Started GET "/projects/6/scenes/10/edit?event_id=4" for 127.0.0.1 at 2013-05-18 19:34:54 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (35.1ms)
Completed 200 OK in 41ms (Views: 37.0ms | ActiveRecord: 2.1ms)


Started GET "/projects/6/scenes/10/edit?event_id=5" for 127.0.0.1 at 2013-05-18 19:34:56 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"5", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (78.1ms)
Completed 200 OK in 84ms (Views: 79.3ms | ActiveRecord: 2.3ms)


Started GET "/projects/6/scenes/10/edit?event_id=5" for 127.0.0.1 at 2013-05-18 19:35:09 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"5", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (34.4ms)
Completed 200 OK in 39ms (Views: 35.4ms | ActiveRecord: 2.3ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:35:13 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 0) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 0) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 0) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 0) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 0) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (32.9ms)
Completed 200 OK in 40ms (Views: 34.9ms | ActiveRecord: 2.2ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:36:11 -0400

SyntaxError (/Users/nicolebeguesse/myvisualnovel/app/controllers/scenes_controller.rb:46: syntax error, unexpected keyword_end, expecting ':'
/Users/nicolebeguesse/myvisualnovel/app/controllers/scenes_controller.rb:115: syntax error, unexpected $end, expecting keyword_end):
  activesupport (3.2.13) lib/active_support/dependencies.rb:469:in `load'
  activesupport (3.2.13) lib/active_support/dependencies.rb:469:in `block in load_file'
  activesupport (3.2.13) lib/active_support/dependencies.rb:639:in `new_constants_in'
  activesupport (3.2.13) lib/active_support/dependencies.rb:468:in `load_file'
  activesupport (3.2.13) lib/active_support/dependencies.rb:353:in `require_or_load'
  activesupport (3.2.13) lib/active_support/dependencies.rb:502:in `load_missing_constant'
  activesupport (3.2.13) lib/active_support/dependencies.rb:192:in `block in const_missing'
  activesupport (3.2.13) lib/active_support/dependencies.rb:190:in `each'
  activesupport (3.2.13) lib/active_support/dependencies.rb:190:in `const_missing'
  activesupport (3.2.13) lib/active_support/inflector/methods.rb:230:in `block in constantize'
  activesupport (3.2.13) lib/active_support/inflector/methods.rb:229:in `each'
  activesupport (3.2.13) lib/active_support/inflector/methods.rb:229:in `constantize'
  activesupport (3.2.13) lib/active_support/dependencies.rb:554:in `get'
  actionpack (3.2.13) lib/action_dispatch/routing/route_set.rb:69:in `controller_reference'
  actionpack (3.2.13) lib/action_dispatch/routing/route_set.rb:54:in `controller'
  actionpack (3.2.13) lib/action_dispatch/routing/route_set.rb:32:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.13) lib/action_dispatch/routing/route_set.rb:612:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.5) lib/rack/etag.rb:23:in `call'
  rack (1.4.5) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/flash.rb:242:in `call'
  rack (1.4.5) lib/rack/session/abstract/id.rb:210:in `context'
  rack (1.4.5) lib/rack/session/abstract/id.rb:205:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/cookies.rb:341:in `call'
  activerecord (3.2.13) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.13) lib/active_record/connection_adapters/abstract/connection_pool.rb:479:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.13) lib/active_support/callbacks.rb:405:in `_run__4249088244294255756__call__1092374701692315572__callbacks'
  activesupport (3.2.13) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.13) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.13) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.13) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.13) lib/rails/rack/logger.rb:32:in `call_app'
  railties (3.2.13) lib/rails/rack/logger.rb:16:in `block in call'
  activesupport (3.2.13) lib/active_support/tagged_logging.rb:22:in `tagged'
  railties (3.2.13) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.5) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.5) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.13) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.5) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/static.rb:63:in `call'
  railties (3.2.13) lib/rails/engine.rb:479:in `call'
  railties (3.2.13) lib/rails/application.rb:223:in `call'
  rack (1.4.5) lib/rack/content_length.rb:14:in `call'
  railties (3.2.13) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.5) lib/rack/handler/webrick.rb:59:in `service'
  /Users/nicolebeguesse/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  /Users/nicolebeguesse/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  /Users/nicolebeguesse/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'


  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.9ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.7ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:36:20 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (137.9ms)
Completed 200 OK in 167ms (Views: 138.8ms | ActiveRecord: 4.0ms)


Started GET "/events/12/delete" for 127.0.0.1 at 2013-05-18 19:36:36 -0400
Processing by EventsController#delete as HTML
  Parameters: {"id"=>"12"}
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1[0m  [["id", "12"]]
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "events" WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = ?[0m  [["id", 12]]
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 ORDER BY order_index ASC
  [1m[36m (45.5ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/projects/6/scenes/10/edit
Completed 302 Found in 59ms (ActiveRecord: 46.9ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:36:36 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.4ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (31.0ms)
Completed 200 OK in 37ms (Views: 32.4ms | ActiveRecord: 2.3ms)


Started POST "/projects/6/scenes/10/update_event" for 127.0.0.1 at 2013-05-18 19:37:33 -0400
Processing by ScenesController#update_event as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IxgJI3mnN03R0RyoR9xiC/FAH8eAkfG4Ue6ixVX56Gg=", "event"=>{"type"=>"CharacterVanishEvent", "character_id"=>"2"}, "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "events" ("character_id", "character_type", "created_at", "filename", "order_index", "scene_id", "subfilename", "type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["character_id", 2], ["character_type", "Hitomi"], ["created_at", Sat, 18 May 2013 23:37:33 UTC +00:00], ["filename", nil], ["order_index", 5], ["scene_id", 10], ["subfilename", nil], ["type", "CharacterVanishEvent"], ["updated_at", Sat, 18 May 2013 23:37:33 UTC +00:00]]
  [1m[36m (46.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (31.7ms)
Completed 200 OK in 94ms (Views: 33.6ms | ActiveRecord: 49.5ms)


Started GET "/projects/6/scenes" for 127.0.0.1 at 2013-05-18 19:38:24 -0400
Processing by ScenesController#index as HTML
  Parameters: {"project_id"=>"6"}
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  Rendered scenes/index.html.erb within layouts/application (17.2ms)
Completed 200 OK in 24ms (Views: 20.9ms | ActiveRecord: 0.8ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:38:27 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (32.4ms)
Completed 200 OK in 38ms (Views: 33.4ms | ActiveRecord: 2.3ms)


Started POST "/projects/6/scenes/10/update_event" for 127.0.0.1 at 2013-05-18 19:38:33 -0400
Processing by ScenesController#update_event as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IxgJI3mnN03R0RyoR9xiC/FAH8eAkfG4Ue6ixVX56Gg=", "event"=>{"type"=>"BackgroundImageEvent", "filename"=>"house_front.jpg"}, "event_id"=>"", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "events" ("character_id", "character_type", "created_at", "filename", "order_index", "scene_id", "subfilename", "type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["character_id", nil], ["character_type", nil], ["created_at", Sat, 18 May 2013 23:38:33 UTC +00:00], ["filename", "house_front.jpg"], ["order_index", 6], ["scene_id", 10], ["subfilename", nil], ["type", "BackgroundImageEvent"], ["updated_at", Sat, 18 May 2013 23:38:33 UTC +00:00]]
  [1m[36m (48.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (31.0ms)
Completed 200 OK in 90ms (Views: 32.3ms | ActiveRecord: 51.2ms)


Started GET "/projects/6/scenes/10/edit?event_id=4" for 127.0.0.1 at 2013-05-18 19:38:45 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.2ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (32.7ms)
Completed 200 OK in 38ms (Views: 33.9ms | ActiveRecord: 2.2ms)


Started GET "/projects/6/scenes/10/edit?event_id=3" for 127.0.0.1 at 2013-05-18 19:38:51 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"3", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (32.6ms)
Completed 200 OK in 38ms (Views: 34.8ms | ActiveRecord: 1.5ms)


Started GET "/projects/6/scenes/10/edit?event_id=6" for 127.0.0.1 at 2013-05-18 19:38:54 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"6", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.2ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (80.9ms)
Completed 200 OK in 88ms (Views: 82.8ms | ActiveRecord: 2.4ms)


Started GET "/projects/6/scenes/10/edit?event_id=5" for 127.0.0.1 at 2013-05-18 19:39:48 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"5", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (33.9ms)
Completed 200 OK in 39ms (Views: 34.7ms | ActiveRecord: 2.2ms)


Started GET "/projects/6/scenes/10/edit?event_id=5" for 127.0.0.1 at 2013-05-18 19:48:20 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"5", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (134.4ms)
Completed 200 OK in 164ms (Views: 135.5ms | ActiveRecord: 3.8ms)


Started GET "/projects/6/scenes/10/edit?event_index=5" for 127.0.0.1 at 2013-05-18 19:48:24 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"5", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.2ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (39.8ms)
Completed 200 OK in 45ms (Views: 40.6ms | ActiveRecord: 2.5ms)


Started GET "/projects/6/scenes/10/edit?event_index=4" for 127.0.0.1 at 2013-05-18 19:48:26 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.3ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.4ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (44.8ms)
Completed 200 OK in 52ms (Views: 45.4ms | ActiveRecord: 3.3ms)


Started GET "/projects/6/scenes/10/edit?event_index=6" for 127.0.0.1 at 2013-05-18 19:48:28 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"6", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (32.7ms)
Completed 200 OK in 38ms (Views: 33.6ms | ActiveRecord: 2.3ms)


Started GET "/projects/6/scenes/10/edit?event_index=6" for 127.0.0.1 at 2013-05-18 19:50:36 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"6", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (149.7ms)
Completed 200 OK in 175ms (Views: 150.6ms | ActiveRecord: 4.1ms)


Started GET "/events/14/moveup" for 127.0.0.1 at 2013-05-18 19:50:42 -0400
Processing by EventsController#moveup as HTML
  Parameters: {"id"=>"14"}
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1  [["id", "14"]]
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
Completed 500 Internal Server Error in 4ms

ArgumentError (Unknown key: scene_id):
  app/controllers/events_controller.rb:5:in `moveup'


  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.0ms)


Started GET "/events/14/moveup" for 127.0.0.1 at 2013-05-18 19:51:26 -0400
Processing by EventsController#moveup as HTML
  Parameters: {"id"=>"14"}
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1  [["id", "14"]]
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 AND "events"."order_index" = 5 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  UPDATE "events" SET "order_index" = 5, "updated_at" = '2013-05-18 23:51:26.851050' WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = 14
  [1m[36m (40.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "events" SET "order_index" = 6, "updated_at" = '2013-05-18 23:51:26.895018' WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = 13[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "events" WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = ?  [["id", 13]]
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 ORDER BY order_index ASC[0m
  [1m[35m (3.9ms)[0m  commit transaction
Completed 404 Not Found in 180ms

ActionController::RoutingError (No route matches {:action=>"edit", :controller=>"scenes", :event_id=>5, :project_id=>nil, :id=>nil}):
  app/controllers/events_controller.rb:9:in `block (2 levels) in moveup'
  app/controllers/events_controller.rb:8:in `moveup'


  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/projects/6/scenes/10/edit?event_index=6" for 127.0.0.1 at 2013-05-18 19:51:49 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"6", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (137.8ms)
Completed 200 OK in 160ms (Views: 138.6ms | ActiveRecord: 3.8ms)


Started GET "/projects/6/scenes/10/edit?event_index=5" for 127.0.0.1 at 2013-05-18 19:52:05 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"5", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.3ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.2ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (33.6ms)
Completed 200 OK in 39ms (Views: 34.6ms | ActiveRecord: 2.4ms)


Started GET "/projects/6/scenes/10/edit?event_index=4" for 127.0.0.1 at 2013-05-18 19:52:07 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (32.2ms)
Completed 200 OK in 37ms (Views: 33.3ms | ActiveRecord: 2.1ms)


Started GET "/projects/6/scenes/10/edit?event_index=5" for 127.0.0.1 at 2013-05-18 19:52:09 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"5", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.2ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (32.9ms)
Completed 200 OK in 38ms (Views: 34.3ms | ActiveRecord: 2.0ms)


Started GET "/events/14/moveup" for 127.0.0.1 at 2013-05-18 19:52:13 -0400
Processing by EventsController#moveup as HTML
  Parameters: {"id"=>"14"}
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1[0m  [["id", "14"]]
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 AND "events"."order_index" = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "events" SET "order_index" = 4, "updated_at" = '2013-05-18 23:52:13.471880' WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = 14[0m
  [1m[35m (43.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  UPDATE "events" SET "order_index" = 5, "updated_at" = '2013-05-18 23:52:13.518924' WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = 10
  [1m[36m (4.1ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
Redirected to http://localhost:3000/projects/6/scenes/10/edit?event_id=4
Completed 302 Found in 62ms (ActiveRecord: 49.2ms)


Started GET "/projects/6/scenes/10/edit?event_id=4" for 127.0.0.1 at 2013-05-18 19:52:13 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (31.4ms)
Completed 200 OK in 38ms (Views: 33.3ms | ActiveRecord: 1.9ms)


Started GET "/projects/6/scenes/10/edit?event_index=4" for 127.0.0.1 at 2013-05-18 19:52:18 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.2ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (77.5ms)
Completed 200 OK in 83ms (Views: 79.1ms | ActiveRecord: 1.9ms)


Started GET "/projects/6/scenes/10/edit?event_index=5" for 127.0.0.1 at 2013-05-18 19:52:22 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"5", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (34.5ms)
Completed 200 OK in 41ms (Views: 36.4ms | ActiveRecord: 2.3ms)


Started GET "/projects/6/scenes/10/edit?event_index=5" for 127.0.0.1 at 2013-05-18 19:53:26 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"5", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.2ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (134.5ms)
Completed 200 OK in 204ms (Views: 135.3ms | ActiveRecord: 3.7ms)


Started GET "/events/14/movedown" for 127.0.0.1 at 2013-05-18 19:53:30 -0400
Processing by EventsController#movedown as HTML
  Parameters: {"id"=>"14"}
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1  [["id", "14"]]
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 AND "events"."order_index" = 5 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  UPDATE "events" SET "order_index" = 5, "updated_at" = '2013-05-18 23:53:30.781213' WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = 14
  [1m[36m (46.4ms)[0m  [1mcommit transaction[0m
Completed 500 Internal Server Error in 56ms

NameError (undefined local variable or method `prev_event' for #<EventsController:0x00000103b83220>):
  app/controllers/events_controller.rb:19:in `movedown'


  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.5ms)


Started GET "/events/14/movedown" for 127.0.0.1 at 2013-05-18 19:53:46 -0400
Processing by EventsController#movedown as HTML
  Parameters: {"id"=>"14"}
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1  [["id", "14"]]
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 AND "events"."order_index" = 6 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  UPDATE "events" SET "order_index" = 6, "updated_at" = '2013-05-18 23:53:46.162727' WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = 14
  [1m[36m (41.6ms)[0m  [1mcommit transaction[0m
Completed 500 Internal Server Error in 118ms

NoMethodError (undefined method `order_index' for nil:NilClass):
  app/controllers/events_controller.rb:19:in `movedown'


  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.7ms)


Started GET "/projects/6/scenes/10/edit?event_index=5" for 127.0.0.1 at 2013-05-18 19:53:57 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"5", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (108.5ms)
Completed 200 OK in 127ms (Views: 109.8ms | ActiveRecord: 2.8ms)


Started GET "/events/14/delete" for 127.0.0.1 at 2013-05-18 19:54:04 -0400
Processing by EventsController#delete as HTML
  Parameters: {"id"=>"14"}
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1  [["id", "14"]]
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "events" WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = ?  [["id", 14]]
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 ORDER BY order_index ASC[0m
  [1m[35m (0.2ms)[0m  UPDATE "events" SET "order_index" = 4, "updated_at" = '2013-05-18 23:54:04.448780' WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = 10
  [1m[36m (46.5ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/projects/6/scenes/10/edit
Completed 302 Found in 60ms (ActiveRecord: 47.9ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:54:04 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (33.7ms)
Completed 200 OK in 42ms (Views: 36.9ms | ActiveRecord: 2.0ms)


Started GET "/events/10/delete" for 127.0.0.1 at 2013-05-18 19:54:10 -0400
Processing by EventsController#delete as HTML
  Parameters: {"id"=>"10"}
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "events" WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = ?  [["id", 10]]
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 ORDER BY order_index ASC[0m
  [1m[35m (47.0ms)[0m  commit transaction
Redirected to http://localhost:3000/projects/6/scenes/10/edit
Completed 302 Found in 57ms (ActiveRecord: 48.1ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 19:54:10 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (25.8ms)
Completed 200 OK in 33ms (Views: 28.1ms | ActiveRecord: 1.8ms)


Started POST "/projects/6/scenes/10/update_event" for 127.0.0.1 at 2013-05-18 19:54:17 -0400
Processing by ScenesController#update_event as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IxgJI3mnN03R0RyoR9xiC/FAH8eAkfG4Ue6ixVX56Gg=", "event"=>{"type"=>"CharacterPoseEvent", "filename"=>"grinning_2.gif", "character_id"=>"2"}, "event_id"=>"", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "events" ("character_id", "character_type", "created_at", "filename", "order_index", "scene_id", "subfilename", "type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["character_id", 2], ["character_type", "Hitomi"], ["created_at", Sat, 18 May 2013 23:54:17 UTC +00:00], ["filename", "grinning_2.gif"], ["order_index", 4], ["scene_id", 10], ["subfilename", nil], ["type", "CharacterPoseEvent"], ["updated_at", Sat, 18 May 2013 23:54:17 UTC +00:00]]
  [1m[36m (45.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (32.8ms)
Completed 200 OK in 92ms (Views: 34.2ms | ActiveRecord: 48.1ms)


Started POST "/projects/6/scenes/10/update_event" for 127.0.0.1 at 2013-05-18 19:54:23 -0400
Processing by ScenesController#update_event as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IxgJI3mnN03R0RyoR9xiC/FAH8eAkfG4Ue6ixVX56Gg=", "event"=>{"type"=>"BackgroundImageEvent", "filename"=>"city_park.jpg"}, "event_id"=>"", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.3ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "events" ("character_id", "character_type", "created_at", "filename", "order_index", "scene_id", "subfilename", "type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["character_id", nil], ["character_type", nil], ["created_at", Sat, 18 May 2013 23:54:23 UTC +00:00], ["filename", "city_park.jpg"], ["order_index", 5], ["scene_id", 10], ["subfilename", nil], ["type", "BackgroundImageEvent"], ["updated_at", Sat, 18 May 2013 23:54:23 UTC +00:00]]
  [1m[36m (44.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (82.2ms)
Completed 200 OK in 138ms (Views: 84.2ms | ActiveRecord: 48.1ms)


Started GET "/events/16/moveup" for 127.0.0.1 at 2013-05-18 19:54:33 -0400
Processing by EventsController#moveup as HTML
  Parameters: {"id"=>"16"}
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1  [["id", "16"]]
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 AND "events"."order_index" = 4 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  UPDATE "events" SET "order_index" = 4, "updated_at" = '2013-05-18 23:54:33.595418' WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = 16
  [1m[36m (40.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "events" SET "order_index" = 5, "updated_at" = '2013-05-18 23:54:33.637946' WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = 15[0m
  [1m[35m (4.3ms)[0m  commit transaction
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
Redirected to http://localhost:3000/projects/6/scenes/10/edit?event_id=4
Completed 302 Found in 53ms (ActiveRecord: 46.1ms)


Started GET "/projects/6/scenes/10/edit?event_id=4" for 127.0.0.1 at 2013-05-18 19:54:33 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_id"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (32.0ms)
Completed 200 OK in 38ms (Views: 33.7ms | ActiveRecord: 2.0ms)


Started GET "/projects/6/scenes/10/edit?event_index=4" for 127.0.0.1 at 2013-05-18 19:54:56 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.4ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (150.2ms)
Completed 200 OK in 180ms (Views: 151.2ms | ActiveRecord: 4.0ms)


Started GET "/events/16/movedown" for 127.0.0.1 at 2013-05-18 19:55:06 -0400
Processing by EventsController#movedown as HTML
  Parameters: {"id"=>"16"}
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1[0m  [["id", "16"]]
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 AND "events"."order_index" = 5 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "events" SET "order_index" = 5, "updated_at" = '2013-05-18 23:55:06.983060' WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = 16[0m
  [1m[35m (39.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  UPDATE "events" SET "order_index" = 4, "updated_at" = '2013-05-18 23:55:07.025193' WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = 15
  [1m[36m (4.2ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
Redirected to http://localhost:3000/projects/6/scenes/10/edit?event_index=5
Completed 302 Found in 54ms (ActiveRecord: 45.1ms)


Started GET "/projects/6/scenes/10/edit?event_index=5" for 127.0.0.1 at 2013-05-18 19:55:07 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"5", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (33.1ms)
Completed 200 OK in 39ms (Views: 34.9ms | ActiveRecord: 2.1ms)


Started POST "/projects/6/scenes/10/update_event" for 127.0.0.1 at 2013-05-18 19:55:18 -0400
Processing by ScenesController#update_event as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IxgJI3mnN03R0RyoR9xiC/FAH8eAkfG4Ue6ixVX56Gg=", "event"=>{"type"=>"CharacterVanishEvent", "character_id"=>"2"}, "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "events" ("character_id", "character_type", "created_at", "filename", "order_index", "scene_id", "subfilename", "type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["character_id", 2], ["character_type", "Hitomi"], ["created_at", Sat, 18 May 2013 23:55:18 UTC +00:00], ["filename", nil], ["order_index", 6], ["scene_id", 10], ["subfilename", nil], ["type", "CharacterVanishEvent"], ["updated_at", Sat, 18 May 2013 23:55:18 UTC +00:00]]
  [1m[35m (44.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (48.8ms)
Completed 200 OK in 108ms (Views: 51.3ms | ActiveRecord: 47.4ms)


Started GET "/events/17/moveup" for 127.0.0.1 at 2013-05-18 19:56:14 -0400
Processing by EventsController#moveup as HTML
  Parameters: {"id"=>"17"}
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1  [["id", "17"]]
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 AND "events"."order_index" = 5 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  UPDATE "events" SET "order_index" = 5, "updated_at" = '2013-05-18 23:56:14.883150' WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = 17
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "events" WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = ?  [["id", 17]]
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 ORDER BY order_index ASC[0m
  [1m[35m (274.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  UPDATE "events" SET "order_index" = 6, "updated_at" = '2013-05-18 23:56:15.170378' WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = 16
  [1m[36m (4.0ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
Redirected to http://localhost:3000/projects/6/scenes/10/edit?event_index=5
Completed 302 Found in 299ms (ActiveRecord: 281.2ms)


Started GET "/projects/6/scenes/10/edit?event_index=5" for 127.0.0.1 at 2013-05-18 19:56:15 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"5", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (41.4ms)
Completed 200 OK in 48ms (Views: 42.3ms | ActiveRecord: 2.8ms)


Started POST "/projects/6/scenes/10/update_event" for 127.0.0.1 at 2013-05-18 19:58:19 -0400
Processing by ScenesController#update_event as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IxgJI3mnN03R0RyoR9xiC/FAH8eAkfG4Ue6ixVX56Gg=", "event"=>{"type"=>"CharacterVanishEvent", "character_id"=>"2"}, "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "events" ("character_id", "character_type", "created_at", "filename", "order_index", "scene_id", "subfilename", "type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["character_id", 2], ["character_type", "Hitomi"], ["created_at", Sat, 18 May 2013 23:58:19 UTC +00:00], ["filename", nil], ["order_index", 7], ["scene_id", 10], ["subfilename", nil], ["type", "CharacterVanishEvent"], ["updated_at", Sat, 18 May 2013 23:58:19 UTC +00:00]]
  [1m[35m (7.6ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.4ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.3ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 7) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 7) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 7) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 7) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 7) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 7) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 7) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 7) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 7) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 7) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 7) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (95.5ms)
Completed 200 OK in 223ms (Views: 96.3ms | ActiveRecord: 14.0ms)


Started GET "/events/18/moveup" for 127.0.0.1 at 2013-05-18 19:58:23 -0400
Processing by EventsController#moveup as HTML
  Parameters: {"id"=>"18"}
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1  [["id", "18"]]
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 AND "events"."order_index" = 6 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  UPDATE "events" SET "order_index" = 6, "updated_at" = '2013-05-18 23:58:23.294423' WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = 18
  [1m[36m (29.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "events" SET "order_index" = 7, "updated_at" = '2013-05-18 23:58:23.326866' WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = 16[0m
  [1m[35m (15.4ms)[0m  commit transaction
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
Redirected to http://localhost:3000/projects/6/scenes/10/edit?event_index=6
Completed 302 Found in 56ms (ActiveRecord: 46.7ms)


Started GET "/projects/6/scenes/10/edit?event_index=6" for 127.0.0.1 at 2013-05-18 19:58:23 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"6", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.4ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.2ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (45.8ms)
Completed 200 OK in 54ms (Views: 47.2ms | ActiveRecord: 3.5ms)


Started GET "/projects/6/scenes/10/edit?event_index=6" for 127.0.0.1 at 2013-05-18 19:59:14 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"6", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (39.0ms)
Completed 200 OK in 46ms (Views: 41.0ms | ActiveRecord: 2.3ms)


Started GET "/events/18/moveup" for 127.0.0.1 at 2013-05-18 19:59:33 -0400
Processing by EventsController#moveup as HTML
  Parameters: {"id"=>"18"}
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1  [["id", "18"]]
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 AND "events"."order_index" = 5 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  UPDATE "events" SET "order_index" = 5, "updated_at" = '2013-05-18 23:59:33.796111' WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = 18
  [1m[36m (45.5ms)[0m  [1mcommit transaction[0m
Completed 500 Internal Server Error in 50ms

NoMethodError (undefined method `order_index' for nil:NilClass):
  app/controllers/events_controller.rb:7:in `moveup'


  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.7ms)


Started GET "/projects/6/scenes/10/edit?event_index=6" for 127.0.0.1 at 2013-05-18 20:00:05 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"6", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (35.5ms)
Completed 200 OK in 41ms (Views: 36.8ms | ActiveRecord: 2.3ms)


Started GET "/events/18/moveup" for 127.0.0.1 at 2013-05-18 20:00:11 -0400
Processing by EventsController#moveup as HTML
  Parameters: {"id"=>"18"}
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1[0m  [["id", "18"]]
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 AND "events"."order_index" = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "events" SET "order_index" = 4, "updated_at" = '2013-05-19 00:00:11.931583' WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = 18[0m
  [1m[35m (45.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  UPDATE "events" SET "order_index" = 5, "updated_at" = '2013-05-19 00:00:11.980810' WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = 15
  [1m[36m (4.2ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
Redirected to http://localhost:3000/projects/6/scenes/10/edit?event_index=4
Completed 302 Found in 62ms (ActiveRecord: 51.4ms)


Started GET "/projects/6/scenes/10/edit?event_index=4" for 127.0.0.1 at 2013-05-18 20:00:12 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (33.2ms)
Completed 200 OK in 39ms (Views: 35.2ms | ActiveRecord: 1.8ms)


Started GET "/events/18/movedown" for 127.0.0.1 at 2013-05-18 20:00:20 -0400
Processing by EventsController#movedown as HTML
  Parameters: {"id"=>"18"}
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1  [["id", "18"]]
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 AND "events"."order_index" = 5 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  UPDATE "events" SET "order_index" = 5, "updated_at" = '2013-05-19 00:00:20.174631' WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = 18
  [1m[36m (44.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "events" SET "order_index" = 4, "updated_at" = '2013-05-19 00:00:20.221027' WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = 15[0m
  [1m[35m (4.0ms)[0m  commit transaction
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
Redirected to http://localhost:3000/projects/6/scenes/10/edit?event_index=5
Completed 302 Found in 58ms (ActiveRecord: 49.8ms)


Started GET "/projects/6/scenes/10/edit?event_index=5" for 127.0.0.1 at 2013-05-18 20:00:20 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"5", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (36.1ms)
Completed 200 OK in 43ms (Views: 37.9ms | ActiveRecord: 2.3ms)
Connecting to database specified by database.yml
Connecting to database specified by database.yml


Started GET "/projects/6/scenes/10/edit?event_index=5" for 127.0.0.1 at 2013-05-18 20:04:20 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"5", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.2ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (147.3ms)
Completed 200 OK in 215ms (Views: 148.0ms | ActiveRecord: 3.8ms)


Started GET "/events/18/moveup" for 127.0.0.1 at 2013-05-18 20:04:29 -0400
Processing by EventsController#moveup as HTML
  Parameters: {"id"=>"18"}
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1  [["id", "18"]]
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 AND "events"."order_index" = 4 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  UPDATE "events" SET "order_index" = 4, "updated_at" = '2013-05-19 00:04:29.999760' WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = 18
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (48.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  UPDATE "events" SET "order_index" = 5, "updated_at" = '2013-05-19 00:04:30.055653' WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = 15
  [1m[36m (4.2ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
Redirected to http://localhost:3000/projects/6/scenes/10/edit?event_index=4
Completed 302 Found in 69ms (ActiveRecord: 54.8ms)


Started GET "/projects/6/scenes/10/edit?event_index=4" for 127.0.0.1 at 2013-05-18 20:04:30 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (33.8ms)
Completed 200 OK in 39ms (Views: 35.4ms | ActiveRecord: 1.8ms)


Started GET "/events/18/moveup" for 127.0.0.1 at 2013-05-18 20:04:34 -0400
Processing by EventsController#moveup as HTML
  Parameters: {"id"=>"18"}
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1  [["id", "18"]]
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 AND "events"."order_index" = 3 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  UPDATE "events" SET "order_index" = 3, "updated_at" = '2013-05-19 00:04:34.112437' WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = 18
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "events" WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = ?[0m  [["id", 18]]
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 ORDER BY order_index ASC
  [1m[36m (0.1ms)[0m  [1mUPDATE "events" SET "order_index" = 4, "updated_at" = '2013-05-19 00:04:34.119454' WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = 15[0m
  [1m[35m (0.1ms)[0m  UPDATE "events" SET "order_index" = 5, "updated_at" = '2013-05-19 00:04:34.120704' WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = 16
  [1m[36m (39.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "events" SET "order_index" = 4, "updated_at" = '2013-05-19 00:04:34.161986' WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = 9[0m
  [1m[35m (4.1ms)[0m  commit transaction
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
Redirected to http://localhost:3000/projects/6/scenes/10/edit?event_index=3
Completed 302 Found in 61ms (ActiveRecord: 45.4ms)


Started GET "/projects/6/scenes/10/edit?event_index=3" for 127.0.0.1 at 2013-05-18 20:04:34 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"3", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.3ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (34.7ms)
Completed 200 OK in 41ms (Views: 36.7ms | ActiveRecord: 1.7ms)


Started GET "/projects/6/scenes/10/edit?event_index=3" for 127.0.0.1 at 2013-05-18 20:05:09 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"3", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (133.4ms)
Completed 200 OK in 202ms (Views: 134.8ms | ActiveRecord: 3.4ms)


Started POST "/projects/6/scenes/10/update_event" for 127.0.0.1 at 2013-05-18 20:05:22 -0400
Processing by ScenesController#update_event as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IxgJI3mnN03R0RyoR9xiC/FAH8eAkfG4Ue6ixVX56Gg=", "event"=>{"type"=>"CharacterVanishEvent", "character_id"=>"2"}, "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "events" ("character_id", "character_type", "created_at", "filename", "order_index", "scene_id", "subfilename", "type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["character_id", 2], ["character_type", "Hitomi"], ["created_at", Sun, 19 May 2013 00:05:22 UTC +00:00], ["filename", nil], ["order_index", 6], ["scene_id", 10], ["subfilename", nil], ["type", "CharacterVanishEvent"], ["updated_at", Sun, 19 May 2013 00:05:22 UTC +00:00]]
  [1m[36m (45.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.2ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (51.4ms)
Completed 200 OK in 113ms (Views: 52.9ms | ActiveRecord: 48.8ms)


Started GET "/events/19/moveup" for 127.0.0.1 at 2013-05-18 20:05:28 -0400
Processing by EventsController#moveup as HTML
  Parameters: {"id"=>"19"}
  [1m[36mEvent Load (0.4ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1[0m  [["id", "19"]]
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 AND "events"."order_index" = 5 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "events" SET "order_index" = 5, "updated_at" = '2013-05-19 00:05:28.887714' WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = 19[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "events" SET "order_index" = 6, "updated_at" = '2013-05-19 00:05:28.896949' WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = 16[0m
  [1m[35m (3.3ms)[0m  commit transaction
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
Redirected to http://localhost:3000/projects/6/scenes/10/edit?event_index=5
Completed 302 Found in 22ms (ActiveRecord: 8.5ms)


Started GET "/projects/6/scenes/10/edit?event_index=5" for 127.0.0.1 at 2013-05-18 20:05:28 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"5", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (38.6ms)
Completed 200 OK in 45ms (Views: 40.5ms | ActiveRecord: 2.3ms)


Started GET "/events/19/moveup" for 127.0.0.1 at 2013-05-18 20:05:32 -0400
Processing by EventsController#moveup as HTML
  Parameters: {"id"=>"19"}
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1[0m  [["id", "19"]]
  [1m[35mScene Load (0.3ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 AND "events"."order_index" = 4 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mUPDATE "events" SET "order_index" = 4, "updated_at" = '2013-05-19 00:05:32.208322' WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = 19[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (3.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "events" SET "order_index" = 5, "updated_at" = '2013-05-19 00:05:32.217657' WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = 15[0m
  [1m[35m (3.3ms)[0m  commit transaction
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
Redirected to http://localhost:3000/projects/6/scenes/10/edit?event_index=4
Completed 302 Found in 21ms (ActiveRecord: 9.1ms)


Started GET "/projects/6/scenes/10/edit?event_index=4" for 127.0.0.1 at 2013-05-18 20:05:32 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (38.6ms)
Completed 200 OK in 44ms (Views: 39.6ms | ActiveRecord: 2.2ms)


Started GET "/events/19/moveup" for 127.0.0.1 at 2013-05-18 20:05:36 -0400
Processing by EventsController#moveup as HTML
  Parameters: {"id"=>"19"}
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1[0m  [["id", "19"]]
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 AND "events"."order_index" = 3 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "events" SET "order_index" = 3, "updated_at" = '2013-05-19 00:05:36.643379' WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = 19[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "events" WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = ?  [["id", 19]]
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 ORDER BY order_index ASC[0m
  [1m[35m (0.2ms)[0m  UPDATE "events" SET "order_index" = 4, "updated_at" = '2013-05-19 00:05:36.651774' WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = 15
  [1m[36m (0.2ms)[0m  [1mUPDATE "events" SET "order_index" = 5, "updated_at" = '2013-05-19 00:05:36.653381' WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = 16[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 ORDER BY order_index ASC
  [1m[36m (42.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "events" SET "order_index" = 4, "updated_at" = '2013-05-19 00:05:36.702754' WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = 9[0m
  [1m[35m (4.1ms)[0m  commit transaction
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
Redirected to http://localhost:3000/projects/6/scenes/10/edit?event_index=3
Completed 302 Found in 72ms (ActiveRecord: 49.3ms)


Started GET "/projects/6/scenes/10/edit?event_index=3" for 127.0.0.1 at 2013-05-18 20:05:36 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"3", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.2ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (28.6ms)
Completed 200 OK in 35ms (Views: 31.1ms | ActiveRecord: 1.4ms)


Started GET "/projects/6/scenes/10/edit?event_index=3" for 127.0.0.1 at 2013-05-18 20:06:24 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"3", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.2ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (138.3ms)
Completed 200 OK in 163ms (Views: 140.0ms | ActiveRecord: 3.6ms)


Started POST "/projects/6/scenes/10/update_event" for 127.0.0.1 at 2013-05-18 20:06:29 -0400
Processing by ScenesController#update_event as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IxgJI3mnN03R0RyoR9xiC/FAH8eAkfG4Ue6ixVX56Gg=", "event"=>{"type"=>"CharacterVanishEvent", "character_id"=>"2"}, "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "events" ("character_id", "character_type", "created_at", "filename", "order_index", "scene_id", "subfilename", "type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["character_id", 2], ["character_type", "Hitomi"], ["created_at", Sun, 19 May 2013 00:06:29 UTC +00:00], ["filename", nil], ["order_index", 6], ["scene_id", 10], ["subfilename", nil], ["type", "CharacterVanishEvent"], ["updated_at", Sun, 19 May 2013 00:06:29 UTC +00:00]]
  [1m[36m (4.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (48.7ms)
Completed 200 OK in 69ms (Views: 50.1ms | ActiveRecord: 7.6ms)


Started GET "/events/20/moveup" for 127.0.0.1 at 2013-05-18 20:06:34 -0400
Processing by EventsController#moveup as HTML
  Parameters: {"id"=>"20"}
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1[0m  [["id", "20"]]
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 AND "events"."order_index" = 5 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.5ms)[0m  UPDATE "events" SET "order_index" = 5, "updated_at" = '2013-05-19 00:06:34.413099' WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = 20
  [1m[36m (42.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "events" SET "order_index" = 6, "updated_at" = '2013-05-19 00:06:34.459357' WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = 16[0m
  [1m[35m (4.2ms)[0m  commit transaction
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
Redirected to http://localhost:3000/projects/6/scenes/10/edit?event_index=5
Completed 302 Found in 61ms (ActiveRecord: 48.9ms)


Started GET "/projects/6/scenes/10/edit?event_index=5" for 127.0.0.1 at 2013-05-18 20:06:34 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"5", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (80.7ms)
Completed 200 OK in 87ms (Views: 83.0ms | ActiveRecord: 2.3ms)


Started GET "/events/20/moveup" for 127.0.0.1 at 2013-05-18 20:06:40 -0400
Processing by EventsController#moveup as HTML
  Parameters: {"id"=>"20"}
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1[0m  [["id", "20"]]
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 AND "events"."order_index" = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.2ms)[0m  UPDATE "events" SET "order_index" = 4, "updated_at" = '2013-05-19 00:06:40.604429' WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = 20
  [1m[36m (46.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "events" SET "order_index" = 5, "updated_at" = '2013-05-19 00:06:40.653489' WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = 15[0m
  [1m[35m (4.0ms)[0m  commit transaction
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
Redirected to http://localhost:3000/projects/6/scenes/10/edit?event_index=4
Completed 302 Found in 63ms (ActiveRecord: 52.3ms)


Started GET "/projects/6/scenes/10/edit?event_index=4" for 127.0.0.1 at 2013-05-18 20:06:40 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (34.9ms)
Completed 200 OK in 41ms (Views: 36.7ms | ActiveRecord: 2.0ms)


Started GET "/events/20/moveup" for 127.0.0.1 at 2013-05-18 20:06:45 -0400
Processing by EventsController#moveup as HTML
  Parameters: {"id"=>"20"}
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1[0m  [["id", "20"]]
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 AND "events"."order_index" = 3 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mCharacter Load (0.2ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "events" WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = ?[0m  [["id", 20]]
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 ORDER BY order_index ASC
  [1m[36m (0.2ms)[0m  [1mUPDATE "events" SET "order_index" = 4, "updated_at" = '2013-05-19 00:06:45.121357' WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = 15[0m
  [1m[35m (0.1ms)[0m  UPDATE "events" SET "order_index" = 5, "updated_at" = '2013-05-19 00:06:45.122647' WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = 16
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
Completed 500 Internal Server Error in 16ms

RuntimeError (can't modify frozen hash):
  app/controllers/events_controller.rb:6:in `moveup'


  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.4ms)


Started GET "/projects/6/scenes/10/edit?event_index=4" for 127.0.0.1 at 2013-05-18 20:07:10 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (83.3ms)
Completed 200 OK in 90ms (Views: 85.5ms | ActiveRecord: 2.0ms)


Started GET "/projects/6/scenes/10/edit?event_index=4" for 127.0.0.1 at 2013-05-18 20:08:15 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (188.2ms)
Completed 200 OK in 211ms (Views: 189.0ms | ActiveRecord: 3.7ms)


Started GET "/events/20/moveup" for 127.0.0.1 at 2013-05-18 20:08:23 -0400
Processing by EventsController#moveup as HTML
  Parameters: {"id"=>"20"}
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1  [["id", "20"]]
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 AND "events"."order_index" = 3 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  UPDATE "events" SET "order_index" = 3, "updated_at" = '2013-05-19 00:08:24.000088' WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = 20
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "events" WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = ?[0m  [["id", 20]]
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 ORDER BY order_index ASC
  [1m[36m (0.2ms)[0m  [1mUPDATE "events" SET "order_index" = 4, "updated_at" = '2013-05-19 00:08:24.010873' WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = 15[0m
  [1m[35m (0.1ms)[0m  UPDATE "events" SET "order_index" = 5, "updated_at" = '2013-05-19 00:08:24.012746' WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = 16
  [1m[36m (39.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "events" SET "order_index" = 4, "updated_at" = '2013-05-19 00:08:24.055504' WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = 9[0m
  [1m[35m (4.3ms)[0m  commit transaction
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 ORDER BY order_index ASC[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mUPDATE "events" SET "order_index" = 3, "updated_at" = '2013-05-19 00:08:24.065877' WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = 9[0m
  [1m[35m (3.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
Redirected to http://localhost:3000/projects/6/scenes/10/edit?event_index=3
Completed 302 Found in 79ms (ActiveRecord: 51.1ms)


Started GET "/projects/6/scenes/10/edit?event_index=3" for 127.0.0.1 at 2013-05-18 20:08:24 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"3", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (31.2ms)
Completed 200 OK in 37ms (Views: 33.4ms | ActiveRecord: 1.7ms)


Started GET "/projects/6/scenes" for 127.0.0.1 at 2013-05-18 20:08:50 -0400
Processing by ScenesController#index as HTML
  Parameters: {"project_id"=>"6"}
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1  [["id", "6"]]
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  Rendered scenes/index.html.erb within layouts/application (11.8ms)
Completed 200 OK in 17ms (Views: 14.9ms | ActiveRecord: 0.7ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 20:08:53 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.4ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (35.1ms)
Completed 200 OK in 42ms (Views: 36.3ms | ActiveRecord: 2.5ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 20:08:53 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (32.5ms)
Completed 200 OK in 38ms (Views: 33.7ms | ActiveRecord: 2.0ms)


Started GET "/projects/6/scenes/10/edit?event_index=4" for 127.0.0.1 at 2013-05-18 20:10:25 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (32.5ms)
Completed 200 OK in 38ms (Views: 33.6ms | ActiveRecord: 2.1ms)


Started GET "/projects/6/scenes/10/edit?event_index=4" for 127.0.0.1 at 2013-05-18 20:13:04 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (137.1ms)
Completed 200 OK in 159ms (Views: 138.1ms | ActiveRecord: 3.6ms)


Started GET "/projects/6/scenes/10/edit?event_index=4" for 127.0.0.1 at 2013-05-18 20:13:15 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.4ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.2ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (141.1ms)
Completed 200 OK in 165ms (Views: 142.3ms | ActiveRecord: 4.0ms)


Started GET "/projects/6/scenes/10/edit?event_index=4" for 127.0.0.1 at 2013-05-18 20:13:35 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"4", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.3ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.2ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (139.1ms)
Completed 200 OK in 209ms (Views: 140.1ms | ActiveRecord: 3.7ms)


Started GET "/projects/6/scenes/10/edit?event_index=2" for 127.0.0.1 at 2013-05-18 20:15:08 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"2", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.2ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (43.3ms)
Completed 200 OK in 51ms (Views: 45.6ms | ActiveRecord: 2.3ms)


Started GET "/projects/6/scenes/10/edit?event_index=2" for 127.0.0.1 at 2013-05-18 20:15:24 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"2", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (90.4ms)
Completed 200 OK in 96ms (Views: 91.9ms | ActiveRecord: 2.0ms)


Started GET "/projects/6/scenes/10/edit?event_index=2" for 127.0.0.1 at 2013-05-18 20:15:52 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"2", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (30.3ms)
Completed 200 OK in 36ms (Views: 31.8ms | ActiveRecord: 1.8ms)


Started GET "/projects/6/scenes/10/edit?event_index=2" for 127.0.0.1 at 2013-05-18 20:16:57 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"2", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (18.0ms)
Completed 500 Internal Server Error in 21ms

ActionView::Template::Error (undefined local variable or method `character' for #<#<Class:0x00000104f68970>:0x000001018b25c0>):
    21: 			  	 	  		  <%if event.is_a?(BackgroundImageEvent)%>
    22: 			  	 	  		    <a class="btn btn-small edit-bg-image" href="#"><i class="icon-pencil"></i> Change Image</a><br/>
    23: 			  	 	  		  <%elsif event.is_a?(CharacterPoseEvent)%>
    24: 			  	 	  		  <a class="btn btn-small edit-pose" href="#" data-name="<%=character.type%>"><i class="icon-pencil"></i> Change Pose</a><br/>
    25: 			  	 	  		  <%end%>
    26: 			  	 	  		  <%if event.order_index != 1%>
    27: 			  	 	  		    <a class="btn btn-small" href="<%=moveup_event_path(event)%>"><i class="icon-arrow-up"></i> Move Up</a>
  app/views/scenes/edit.html.erb:24:in `block in _app_views_scenes_edit_html_erb__96029362695483580_2160402840'
  app/views/scenes/edit.html.erb:11:in `_app_views_scenes_edit_html_erb__96029362695483580_2160402840'


  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
  Rendered /Users/nicolebeguesse/.rvm/gems/ruby-1.9.2-p320/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (53.4ms)


Started GET "/projects/6/scenes/10/edit?event_index=2" for 127.0.0.1 at 2013-05-18 20:17:16 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"2", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (44.7ms)
Completed 200 OK in 52ms (Views: 46.8ms | ActiveRecord: 2.1ms)


Started GET "/projects/6/scenes/10/edit?event_index=2" for 127.0.0.1 at 2013-05-18 20:17:16 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"2", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (31.2ms)
Completed 200 OK in 36ms (Views: 32.6ms | ActiveRecord: 1.9ms)


Started POST "/projects/6/scenes/10/update_event" for 127.0.0.1 at 2013-05-18 20:17:46 -0400
Processing by ScenesController#update_event as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IxgJI3mnN03R0RyoR9xiC/FAH8eAkfG4Ue6ixVX56Gg=", "event"=>{"type"=>"CharacterPoseEvent", "filename"=>"oh_my_1.gif", "character_id"=>"2"}, "event_id"=>"9", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1[0m  [["id", "9"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mUPDATE "events" SET "filename" = 'oh_my_1.gif', "updated_at" = '2013-05-19 00:17:46.582377' WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = 9[0m
  [1m[35m (48.4ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (32.9ms)
Completed 200 OK in 93ms (Views: 34.7ms | ActiveRecord: 51.0ms)


Started GET "/projects/6/scenes" for 127.0.0.1 at 2013-05-18 20:18:37 -0400
Processing by ScenesController#index as HTML
  Parameters: {"project_id"=>"6"}
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  Rendered scenes/index.html.erb within layouts/application (12.1ms)
Completed 200 OK in 19ms (Views: 15.7ms | ActiveRecord: 0.8ms)


Started GET "/projects/6/scenes" for 127.0.0.1 at 2013-05-18 20:18:38 -0400
Processing by ScenesController#index as HTML
  Parameters: {"project_id"=>"6"}
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1[0m  [["id", "6"]]
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  Rendered scenes/index.html.erb within layouts/application (10.1ms)
Completed 200 OK in 17ms (Views: 14.3ms | ActiveRecord: 0.7ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 20:18:40 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.3ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (37.0ms)
Completed 200 OK in 44ms (Views: 38.3ms | ActiveRecord: 2.4ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 20:18:40 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (33.2ms)
Completed 200 OK in 38ms (Views: 34.3ms | ActiveRecord: 2.1ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 20:19:25 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (32.9ms)
Completed 200 OK in 39ms (Views: 34.2ms | ActiveRecord: 2.1ms)


Started GET "/projects/6/scenes/10/edit?event_index=3" for 127.0.0.1 at 2013-05-18 20:19:37 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"3", "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (32.0ms)
Completed 200 OK in 37ms (Views: 33.8ms | ActiveRecord: 1.5ms)


Started POST "/projects/6/scenes/10/update_event" for 127.0.0.1 at 2013-05-18 20:20:47 -0400
Processing by ScenesController#update_event as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IxgJI3mnN03R0RyoR9xiC/FAH8eAkfG4Ue6ixVX56Gg=", "event"=>{"type"=>"CharacterVanishEvent", "character_id"=>"2"}, "project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("events"."order_index") AS max_id FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "events" ("character_id", "character_type", "created_at", "filename", "order_index", "scene_id", "subfilename", "type", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["character_id", 2], ["character_type", "Hitomi"], ["created_at", Sun, 19 May 2013 00:20:47 UTC +00:00], ["filename", nil], ["order_index", 6], ["scene_id", 10], ["subfilename", nil], ["type", "CharacterVanishEvent"], ["updated_at", Sun, 19 May 2013 00:20:47 UTC +00:00]]
  [1m[36m (43.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (48.3ms)
Completed 200 OK in 156ms (Views: 50.4ms | ActiveRecord: 47.3ms)


Started GET "/projects/6/scenes/10/edit?event_index=5" for 127.0.0.1 at 2013-05-18 20:20:52 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"5", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.2ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.2ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (37.7ms)
Completed 200 OK in 43ms (Views: 38.9ms | ActiveRecord: 2.3ms)


Started GET "/projects/6/scenes/10/edit?event_index=6" for 127.0.0.1 at 2013-05-18 20:20:57 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"event_index"=>"6", "project_id"=>"6", "id"=>"10"}
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1[0m  [["id", "10"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 6) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count [0m
  Rendered scenes/edit.html.erb within layouts/application (33.7ms)
Completed 200 OK in 39ms (Views: 35.4ms | ActiveRecord: 2.0ms)


Started GET "/events/5/delete" for 127.0.0.1 at 2013-05-18 20:21:23 -0400
Processing by EventsController#delete as HTML
  Parameters: {"id"=>"5"}
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE "events"."id" = ? LIMIT 1  [["id", "5"]]
  [1m[36mScene Load (0.2ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "events" WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = ?  [["id", 5]]
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE "events"."scene_id" = 10 ORDER BY order_index ASC[0m
  [1m[35m (0.1ms)[0m  UPDATE "events" SET "order_index" = 1, "updated_at" = '2013-05-19 00:21:23.186852' WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = 6
  [1m[36m (0.1ms)[0m  [1mUPDATE "events" SET "order_index" = 2, "updated_at" = '2013-05-19 00:21:23.188244' WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = 9[0m
  [1m[35m (0.1ms)[0m  UPDATE "events" SET "order_index" = 3, "updated_at" = '2013-05-19 00:21:23.189080' WHERE "events"."type" IN ('CharacterPoseEvent') AND "events"."id" = 15
  [1m[36m (0.1ms)[0m  [1mUPDATE "events" SET "order_index" = 4, "updated_at" = '2013-05-19 00:21:23.189852' WHERE "events"."type" IN ('BackgroundImageEvent') AND "events"."id" = 16[0m
  [1m[35m (0.1ms)[0m  UPDATE "events" SET "order_index" = 5, "updated_at" = '2013-05-19 00:21:23.191132' WHERE "events"."type" IN ('CharacterVanishEvent') AND "events"."id" = 21
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 4) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (270.8ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/projects/6/scenes/10/edit
Completed 302 Found in 292ms (ActiveRecord: 273.0ms)


Started GET "/projects/6/scenes/10/edit" for 127.0.0.1 at 2013-05-18 20:21:23 -0400
Processing by ScenesController#edit as HTML
  Parameters: {"project_id"=>"6", "id"=>"10"}
  [1m[35mScene Load (0.1ms)[0m  SELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = ? LIMIT 1  [["id", "10"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mEvent Load (0.2ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 3) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.2ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) ORDER BY order_index ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mScene Load (0.1ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCharacter Load (0.1ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 1) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "scenes".* FROM "scenes" WHERE "scenes"."id" = 10 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 2) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "events" WHERE "events"."scene_id" = 10
  [1m[36mCharacter Load (0.1ms)[0m  [1mSELECT "characters".* FROM "characters" WHERE "characters"."project_id" = 6[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mEvent Load (0.1ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  [1m[36mEvent Load (0.1ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='BackgroundImageEvent') ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) LIMIT 1) subquery_for_count 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) LIMIT 1) subquery_for_count [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "events".* FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterVanishEvent' and character_id=2) ORDER BY order_index DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "events" WHERE (scene_id=10 ) AND (order_index <= 5) AND (type='CharacterPoseEvent' and character_id=3) LIMIT 1) subquery_for_count 
  Rendered scenes/edit.html.erb within layouts/application (34.7ms)
Completed 200 OK in 41ms (Views: 36.0ms | ActiveRecord: 2.2ms)
